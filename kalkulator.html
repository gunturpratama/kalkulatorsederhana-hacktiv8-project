<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Kalkulator hacktiv8</title>
    <link rel="stylesheet" href="css/app.css">

    <link rel="icon" href="img/AppIcon.jpg" type="image/gif">
</head>

<body style="background-image: url( img/download.png)">
    <div id="calculator">


        <h1>Kalkulator Cinta</h1>
        <div class="result">
            <p></p>
        </div>
        <div class="clear">C</div>

        <span>7</span>
        <span>8</span>
        <span>9</span>
        <span>+</span>

        <span>4</span>
        <span>5</span>
        <span>6</span>
        <span>-</span>

        <span>1</span>
        <span>2</span>
        <span>3</span>
        <span>/</span>

        <span>0</span>
        <span>.</span>
        <span>=</span>
        <span>*</span>
    </div>






    <script>
        window.onload = function () {
            let btn = document.getElementsByTagName('span'),
                hasil = document.querySelectorAll('.result p')[0],
                hapus = document.getElementsByClassName('clear')[0];

            for (let i = 0; i < btn.length; i++) {
                if (btn[i].innerHTML === '=') {
                    btn[i].addEventListener("click", kalkulasi(i));
                } else {
                    btn[i].addEventListener("click", nilai(i));
                }
            }

            hapus.onclick = function () {
                hasil.innerHTML = '';
            };

            function nilai(i) {
                return function () {

                    hasil.innerHTML += btn[i].innerHTML;

                };
            }

            function kalkulasi(i) {
                return function () {
                    let hasil_akhir = hasil.innerHTML;


                    hasil.innerHTML = eval(hasil_akhir);
                };
            }
        };
    </script>
</body>

</html>